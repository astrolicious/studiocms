---
import { Image } from 'astro:assets';
import Icon from '../utils/Icon.astro';

type Props = {
	name: string;
	description: string;
	avatar?: string;
	class?: string;
};

const { name, description, avatar, class: className } = Astro.props;
---
<div class="user-container" class:list={[ className ]}>
  <div class="avatar-container">
    <!-- Astro Image or Unpic -->
    {avatar ? (
      <Image src={avatar} inferSize alt={name} class="avatar-img" />
    ) : (
      <Icon name='user' width={32} height={32} />
    )}
  </div>
  <div class="text-content">
    <span class="name">{name}</span>
    <span class="description">{description}</span>
  </div>
</div>
<style>
  .user-container {
    display: flex;
    flex-direction: row;
    align-items: center;
    gap: 1rem;
  }

  .avatar-container {
    width: 3rem;
    height: 3rem;
    background-color: hsl(var(--default-base));
    border-radius: 3rem;
    display: flex;
    align-items: center;
    justify-content: center;
    overflow: hidden;
    border: 1px solid hsl(var(--border));
  }

  .avatar-img {
    width: 100%;
    height: auto;
  }

  .text-content {
    display: flex;
    flex-direction: column;
    gap: .125rem;
  }

  .name {
    font-size: 1em;
    font-weight: 600;
  }

  .description {
    font-size: .875em;
    font-weight: 400;
    color: hsl(var(--text-muted));
  }
</style>
