/* Dark mode colors. */
:root {
	--sl-color-accent-low: #6545aa;
	--sl-color-accent: #a581f3;
	--sl-color-accent-high: #cdb9f8;
	--sl-color-white: #ffffff;
	--sl-color-gray-1: #d1d1d1;
	--sl-color-gray-2: #b4b4b4;
	--sl-color-gray-3: #969696;
	--sl-color-gray-4: #4d4d4d;
	--sl-color-gray-5: #383838;
	--sl-color-gray-6: #191919;
	--sl-color-black: #0f0f0f;

	--sl-custom-code-color: var(--sl-color-gray-5);

	--sl-font: "Onest Variable";

	/* Shiki Custom copy button tokens */
	--copy-button: var(--sl-color-gray-3);
	--copy-button-success: #74f074;

	/* Shiki Color tokens */
	--highlighted-word-bg: var(--sl-color-gray-6);
	--highlighted-word-dark-bg: var(--sl-color-gray-5);
	--highlighted-error-bg: #88000033;
	--highlighted-error-dark-bg: #8005;
	--highlighted-warning-bg: #ff8c00;
	--highlighted-warning-dark-bg: #ff8c00;
	--diff-add-bg: #1b8f1b33;
	--diff-add-dark-bg: #1b8f1b33;
	--diff-remove-bg: #88000033;
	--diff-remove-dark-bg: #8005;
}

/* Light mode colors. */
:root[data-theme="light"] {
	--sl-color-accent-low: #3a158b;
	--sl-color-accent: #6545aa;
	--sl-color-accent-high: #a581f3;
	--sl-color-white: #1f1f1f;
	--sl-color-gray-1: #202020;
	--sl-color-gray-2: #383838;
	--sl-color-gray-3: #5c5c5c;
	--sl-color-gray-4: #838383;
	--sl-color-gray-5: #afafaf;
	--sl-color-gray-6: #cecece;
	--sl-color-gray-7: #f8f4fe;
	--sl-color-black: #ffffff;

	--sl-custom-code-color: #dddddd;
}

/* This is Turso's Branding Colors for the sponsors sidebar section */
[data-theme="light"] .turso-logo > path {
	fill: #183134;
}

.card-grid .card {
	border-radius: 8px;
}

code,
starlight-file-tree {
	border-radius: 4px;
}

.expressive-code figure.frame figcaption {
	border-top-right-radius: 4px !important;
	border-top-left-radius: 4px !important;
	overflow: hidden;
}

.expressive-code figure.frame pre {
	border-radius: 4px;
}

aside.starlight-aside {
	border-top-right-radius: 4px;
	border-bottom-right-radius: 4px;
}

@media (max-width: 50rem) {
	.hero > img {
		width: min(50%, 16rem);
	}
}

#starlight__sidebar [aria-current="page"] span {
	color: black !important;
}

[data-theme="light"] #starlight__sidebar [aria-current="page"] span {
	color: white !important;
}

button[aria-label="Menu"][aria-controls="starlight__sidebar"] {
	background-color: var(--sl-color-white);
	padding: 0.5rem;
}

[data-theme="light"] button[aria-label="Menu"][aria-controls="starlight__sidebar"] {
	background-color: var(--sl-color-black);
	padding: 0.5rem;
}

[data-theme="dark"] .astro-code,
[data-theme="dark"] .astro-code span:not(.ready),
[data-theme="dark"] .shiki,
[data-theme="dark"] .shiki span:not(.ready) {
	color: var(--shiki-dark) !important;
	background-color: var(--shiki-dark-bg) !important;
	/* Optional, if you also want font styles */
	font-style: var(--shiki-dark-font-style) !important;
	font-weight: var(--shiki-dark-font-weight) !important;
	text-decoration: var(--shiki-dark-text-decoration) !important;
}

.astro-code {
	overflow: visible !important;
	margin-top: 1.5rem !important;
	padding-top: 1rem !important;
	border-radius: .5rem;
}

.twoslash-popup-container {
	white-space: nowrap !important;
	word-break: normal !important;
	overflow-wrap: normal !important;
	max-width: 512px !important;
	width: max-content !important;
}

.twoslash-popup-container * {
	white-space: wrap !important;
	word-break: normal !important;
	overflow-wrap: normal !important;
}

main[data-pagefind-body] {
	overflow: hidden !important;
}

.twoslash-popup-docs {
	font-size: 1em !important;
	color: var(--sl-color-white) !important;
	font-family: var(--sl-font) !important;
}

.twoslash-popup-docs code:not(:has(.shiki)) {
	color: var(--sl-color-white) !important;
	background-color: var(--sl-color-gray-5) !important;
	padding: .125rem !important;
	border-radius: 4px !important;
	position: relative !important;
	display: inline-block !important;
	line-height: 1 !important;
}

.twoslash-popup-docs-tag-name {
	color: #8839ef !important;
	--shiki-dark: #c586c0 !important;
	font-style: italic;
	--shiki-dark-font-style: italic;
}

.twoslash-popup-docs-tag-value {
	color: var(--sl-color-gray-2) !important;
	--shiki-dark: var(--sl-color-gray-2);
}

.twoslash-popup-docs.twoslash-popup-docs-tags {
	font-size: 14px !important;
	margin: 0 !important;
}

.twoslash-popup-docs-tag-value code:first-of-type {
	margin-right: .75rem !important;
}

.twoslash-popup-docs-tag-value code:first-of-type:not(:has(.shiki)):not(.shiki code)::after {
	content: "â€”";
	position: absolute;
	top: 50%;
	transform: translateY(-50%);
	right: -.75rem;
	color: var(--sl-color-gray-2) !important;
	--shiki-dark: var(--sl-color-gray-2);
}

.twoslash-popup-container {
	background-color: var(--twoslash-popup-bg) !important;
	--shiki-dark-bg: #1e1e1e !important;
}

.twoslash-popup-container .shiki {
	border: none !important;
	outline: none !important;
	padding: 0 !important;
}

.twoslash-popup-container .shiki code,
.twoslash-popup-container .shiki code span {
	white-space: preserve !important;
}

.twoslash-popup-container .shiki code {
	margin: 0 !important;
	background-color: transparent !important;
	line-height: normal !important;
}

.twoslash-popup-container .shiki code span::after {
	content: none !important;
}

.twoslash-popup-code,
.twoslash-popup-docs {
	max-height: 200px !important;
	overflow: auto !important;
}

.highlighted:not(.error):not(.warning) {
	display: inline-block !important;
	margin: 0 -12px !important;
	padding: 0 12px !important;
	background-color: var(--highlighted-word-bg) !important;
}

[data-theme="dark"] .highlighted:not(.error):not(.warning) {
	background-color: var(--highlighted-word-dark-bg) !important;
	--shiki-dark-bg: var(--highlighted-word-dark-bg) !important;
}

.highlighted.error {
	background-color: var(--highlighted-error-bg) !important;
	--shiki-dark-bg: var(--highlighted-error-dark-bg) !important;
}

[data-theme="dark"] .highlighted.error {
	background-color: var(--highlighted-error-dark-bg) !important;
	--shiki-dark-bg: var(--highlighted-error-dark-bg) !important;
}

.highlighted.warning {
	background-color: var(--highlighted-warning-bg) !important;
	--shiki-dark-bg: var(--highlighted-warning-dark-bg) !important;
}

[data-theme="dark"] .highlighted.warning {
	background-color: var(--highlighted-warning-dark-bg) !important;
	--shiki-dark-bg: var(--highlighted-warning-dark-bg) !important;
}

.highlighted-word {
	background-color: var(--highlighted-word-bg) !important;
	padding: .125rem !important;
	border-radius: 4px !important;
	position: relative !important;
	display: inline-block !important;
	line-height: 1 !important;
}

[data-theme="dark"] .highlighted-word {
	background-color: var(--highlighted-word-dark-bg) !important;
	--shiki-dark-bg: var(--highlighted-word-dark-bg) !important;
}

.diff {
	display: inline-block !important;
	margin: 0 -12px !important;
	padding: 0 12px !important;
}

.diff, .highlighted {
	border-radius: 4px;
}

.diff > span {
	background-color: transparent !important;
	--shiki-dark-bg: transparent !important;
}

.diff.add {
	background-color: var(--diff-add-bg);
	--shiki-dark-bg: var(--diff-add-dark-bg);
}

.diff.remove {
	background-color: var(--diff-remove-bg);
	--shiki-dark-bg: var(--diff-remove-dark-bg);
}

.diff:before {
	position: absolute !important;
	left: 40px !important;
}

pre:has(code) {
	position: relative;
}

pre button.copy {
	position: absolute !important;
	right: 10px !important;
	top: 10px !important;
	height: 28px !important;
	width: 28px !important;
	padding: 0.125rem !important;
	display: flex !important;
	border: 1px solid var(--sl-color-gray-4) !important;
	border-radius: 4px !important;
	cursor: pointer !important;
	opacity: 0;
	transition: all .15s ease;

	& span {
		width: 100% !important;
		aspect-ratio: 1 / 1 !important;
		background-repeat: no-repeat !important;
		background-position: center !important;
		background-size: cover !important;
	}

	& .success {
		display: none;
	}

	&.copied {
		& .success {
			display: block !important;
		}

		& .ready {
			display: none !important;
			background-color: transparent !important;
		}
	}
}

pre button.copy:hover {
	background-color: var(--sl-color-gray-5);
}

.astro-code:hover button.copy {
	opacity: 1;
}

pre span.title {
	position: absolute !important;
	top: -14px !important;
	left: 10px !important;
	font-size: 0.75rem !important;
	color: var(--sl-color-gray-2) !important;
	background: var(--sl-color-black) !important;
	padding: 0.1rem !important;
	padding-left: 0.5rem !important;
	padding-right: 0.5rem !important;
	border: 1px solid var(--sl-color-gray-5) !important;
	border-radius: 4px !important;
}

.sl-markdown-content code:not(:where(.not-content *)) {
	background-color: var(--sl-custom-code-color);
}
