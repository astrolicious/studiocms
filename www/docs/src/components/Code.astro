---
import { Code as AstroCode } from 'astro:components';
import type { BundledLanguage, LanguageRegistration, SpecialLanguage } from 'shiki';
import { addCopyButton } from '~/shiki/transformers/copyButton';

interface Props {
	code: string;
	title?: string;
	lang?: BundledLanguage | SpecialLanguage | LanguageRegistration | undefined;
}

const { code, title, lang = 'bash' } = Astro.props;
---
<AstroCode
    {title}
    {code} 
    {lang} 
    themes={{ light: 'light-plus', dark: "dark-plus" }} 
    transformers={[addCopyButton()]} 
    wrap />