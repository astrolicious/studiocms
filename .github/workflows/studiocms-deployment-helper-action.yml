name: Deployment Helper Comment
permissions:
    pull-requests: write

on:
  pull_request:
    types: 
      - opened
      - ready_for_review

jobs:
    comment:
      name: Reply on new PR
      runs-on: ubuntu-latest
      if: ${{ github.pull_request.user.login !== 'create-issue-branch[bot]' }}
      steps:
        - uses: actions/github-script@60a0d83039c74a4aee543508d2ffcb1c3799cdea # v7
          with:
            script: |
              github.rest.issues.createComment({
                issue_number: context.issue.number,
                owner: context.repo.owner,
                repo: context.repo.repo,
                body: `@${context.payload.pull_request.user.login}, thank you for opening this pull request!
                
                Automated deployments are currently disabled for this project due to upstream issues. Please wait for a maintainer to review your changes and queue a deployment for you.
                
                If you have any questions, feel free to ask!`
              })
  
